@import '../color_scheme.styl'

$defaultHeight = 50px //Leaflet.Draw default is 26px

$fnMakeLeafletDrawToolbar(xPositionOffset, yPositionOffset, multX, multY)
  $commonY = (-1px + yPositionOffset) * multY
  .leaflet-draw-draw-polyline
    background-position (0px + xPositionOffset) * multX $commonY
  .leaflet-draw-draw-polygon
    background-position (-29px + xPositionOffset) * multX $commonY
  .leaflet-draw-draw-rectangle
    background-position (-60px + xPositionOffset) * multX $commonY
  .leaflet-draw-draw-circle
    background-position (-90px + xPositionOffset) * multX $commonY
  .leaflet-draw-draw-marker
    background-position (-120px + xPositionOffset) * multX $commonY
  .leaflet-draw-edit-edit
    background-position (-150px + xPositionOffset) * multX $commonY
    &.leaflet-disabled
      background-position (-210px + xPositionOffset) * multX $commonY
  .leaflet-draw-edit-remove
    background-position (-180px + xPositionOffset) * multX $commonY
    &.leaflet-disabled
      background-position (-240px + xPositionOffset) * multX (-2px) * multY

.leaflet-draw
  margin-bottom 0px !important
  .leaflet-bar
    a
      height $defaultHeight
      width $defaultHeight
      display inline-block //This is what keeps the images from moving around on hover.. not sure why
      border-right 1px solid rgba(0,0,0,0.1)
    &:hover
      color $rm-map-btn-icon-hover

  a
    display inline-block //default is block
    text-align center
    text-decoration none

  &:hover
    color $rm-map-btn-icon-hover

.leaflet-draw-section
  position relative
  display inline-block
  height $defaultHeight

.leaflet-draw-toolbar
  @extend .desktop-only

  height $defaultHeight
  margin-top 12px
  a
    background-image url('/assets/spritesheet-2x.png')
    background-repeat no-repeat

  $fnMakeLeafletDrawToolbar(-2, -1, 2, 2)
  &.leaflet-bar
    a
      &:first-child
        border-radius: 4px 0px 0px 4px
      &:last-child
        border-radius: 0px 4px 4px 0px


//compare to above to mimick movement
.leaflet-touch
  .leaflet-draw-actions
    left $defaultHeight + 6
    a
      font-size 12px
      line-height $defaultHeight + 4
      height $defaultHeight + 4
  .leaflet-right
    .leaflet-draw-actions
      right $defaultHeight + 6
      left auto
  .leaflet-draw-toolbar
    $fnMakeLeafletDrawToolbar(0, 0, 2, 2)

.leaflet-draw-toolbar-top
  margin-top 0

.leaflet-draw-toolbar-notop
  a
    &:first-child
      border-top-right-radius 0

.leaflet-draw-toolbar-nobottom
  a
    &:last-child
      border-bottom-right-radius 0


.leaflet-draw-actions
  display none
  list-style none
  margin 0
  padding 0
  position absolute
  left $defaultHeight
  top 0
  white-space nowrap
  li
    display inline-block
    &:first-child
      a
        border-left none
    &:last-child
      a
        -webkit-border-radius 0 4px 4px 0
        border-radius 0 4px 4px 0
  a
    background-color #919187
    border-left 1px solid #AAA
    color #FFF
    font 11px/19px "Helvetica Neue", Arial, Helvetica, sans-serif
    line-height $defaultHeight + 2
    text-decoration none
    padding-left 10px
    padding-right 10px
    height $defaultHeight + 2
    &:hover
      background-color #A0A098

.leaflet-right
  .leaflet-draw-actions
    right $defaultHeight
    left auto
    li
      &:last-child
        a
          -webkit-border-radius 0
          border-radius 0
      &:first-child
        a
          -webkit-border-radius 4px 0 0 4px
          border-radius 4px 0 0 4px

.leaflet-draw-actions-bottom
  margin-top 0

.leaflet-draw-actions-top
  margin-top 1px
  &.leaflet-draw-actions-bottom
    a
      height $defaultHeight
      line-height $defaultHeight

.leaflet-draw-actions-top a,
.leaflet-draw-actions-bottom a
  height $defaultHeight + 1
  line-height $defaultHeight + 1

.leaflet-mouse-marker
  background-color #fff
  cursor crosshair

.leaflet-draw-tooltip
  background rgb(54, 54, 54)
  background rgba(0, 0, 0, 0.5)
  border 1px solid transparent
  -webkit-border-radius 4px
  border-radius 4px
  color #fff
  font 12px/18px "Helvetica Neue", Arial, Helvetica, sans-serif
  margin-left $defaultHeight - 6
  margin-top -($defaultHeight - 5)
  padding 4px 8px
  position absolute
  visibility hidden
  white-space nowrap
  z-index 6
  &:before
    border-right 6px solid black
    border-right-color rgba(0, 0, 0, 0.5)
    border-top 6px solid transparent
    border-bottom 6px solid transparent
    content ""
    position absolute
    top 7px
    left -7px

.leaflet-error-draw-tooltip
  background-color #F2DEDE
  border 1px solid #E6B6BD
  color #B94A48
  &:before
    border-right-color #E6B6BD

.leaflet-draw-tooltip-single
  margin-top -12px

.leaflet-draw-tooltip-subtext
  color #f8d5e4

.leaflet-draw-guide-dash
  font-size 1%
  opacity 0.6
  position absolute
  width 5px
  height 5px

.leaflet-edit-marker-selected
  background rgba(254, 87, 161, 0.1)
  border 4px dashed rgba(254, 87, 161, 0.6)
  -webkit-border-radius 4px
  border-radius 4px
  box-sizing content-box

.leaflet-oldie
  .leaflet-draw-toolbar
    border 1px solid #999
