@import '../components/propertiesAttr'

$card-width = 325px
$card-gutter = 8px

$mobile-width-tiny = 320px
$card-width-tiny = 280px

$mobile-tiny = "(max-width: " + $mobile-width-tiny + ")"

.mobile-view
  .leaflet-bottom
    margin-bottom: 110px;

#detail-card-tray

  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 100px;
  z-index: 10
  padding: 10px 0 0 0;
  overflow: hidden

  @extends .font-museo-500

  #detail-card-container
    position: relative;
    width: 100%;
    height: 100px;

  .detail-card
    cursor: pointer
    display: none;
    position: absolute;
    top: 0;
    width: $card-width;
    height: 100%;
    background: white;
    border: solid 1px #666;
    border-bottom: none;
    padding: 5px;
    overflow: hidden;
    transition: left 125ms ease;

    @media $mobile-tiny
      width: $card-width-tiny;

  .detail-card.tray-center
    display: block;
    left: "calc(50% - %s / 2)" % $card-width

    @media $mobile-tiny
      left: "calc(50% - %s / 2)" % $card-width-tiny

  .detail-card.tray-right
    display: block
    left: "calc(50% + %s / 2 + %s)" % ($card-width $card-gutter);

    @media $mobile-tiny
      left: "calc(50% + %s / 2 + %s)" % ($card-width-tiny $card-gutter);

    .photo-overlay
      display: block;

  .detail-card.tray-left
    display: block
    left: "calc(50% - %s * 1.5 - %s)" % ($card-width $card-gutter);

    @media $mobile-tiny
      left: "calc(50% - %s * 1.5 - %s)" % ($card-width-tiny $card-gutter);

    .photo-overlay
      display: block;

  .detail-card.hidden-right
    display: block
    left: "calc(100% + %s + %s)" % ($card-width $card-gutter);

    @media $mobile-tiny
      left: "calc(100% + %s + %s)" % ($card-width-tiny $card-gutter);

  .detail-card.hidden-left
    display: block
    left: -1 * ($card-width + $card-gutter);

    @media $mobile-tiny
      left: -1 * ($card-width-tiny + $card-gutter);

  .property-img
    float left
    position: relative;
    width: 85px;
    height: 85px;

    img
      width: 100%
      height: 100%

    .status
      color $rm_status_on_background
      text-transform uppercase
      bottom 0
      left 0
      display inline-block
      padding 5px 10px
      font-size 9px
      position absolute
      $fnPropertyStatus(background)

  .photo-overlay
    background-color transparent
    position absolute
    top 0
    bottom 0
    right 0
    left 0
    z-index 1
    display none

  .card-info
    margin-left: 90px;
    font-size 12px

    h4, p
      font-size 12px
      line-height 10px

    h4
      font-weight: 600

    ul.attr
      padding 0
      color: $rm_attribute_lighter
      white-space: nowrap;

      li
        list-style none
        display inline-block
        border-right 1px solid $black
        border-bottom none
        padding 0 5px
        font-size 12px
        line-height 12px

        &:first-child
          padding-left 0

        &:last-child
          border none

    .price
      font-size: 15px;
      font-weight: 600;
      margin-top: 6px;
      $fnPropertyStatus(color)

    .location
      color: $rm_attribute_lightest

    .year_built
      @media $mobile-tiny
        display: none !important
